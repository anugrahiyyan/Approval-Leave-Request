<!DOCTYPE html>
<html>

<head>
  <!--
    Creator: Galbatorix
    Created for ONEderland Leave Request System
    If you need support, improvements, or bug fixes, please contact the creator.

    Version: 16
    Date: September 13, 2025
  -->
  <base target="_top">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
</head>

<body>
  <div
    style="font-family:Arial,sans-serif;max-width:600px; margin:auto; border:1px solid #ddd; padding:20px; border-radius:8px; background-color:#fff;">
    <h2 style="color:#2c3e50; border-bottom:1px solid #eee; padding-bottom:10px; text-align:center;">
      ONEderland Leave/WFH Request: Action Required
    </h2>

    <div style="margin:20px 0;">
      <p>Dear Approver,</p>
      <p>A leave request from <strong>
          <?= name ?>
        </strong> requires your attention:</p>

      <table style="width:100%;border-collapse:collapse;margin:20px 0;">
        <tr>
          <td style="padding:8px;border:1px solid #ddd;background-color:#f9f9f9;width:30%;"><strong>Form ID</strong>
          </td>
          <td style="padding:8px;border:1px solid #ddd;">
            <?= refID ?>
          </td>
        </tr>
        <tr>
          <td style="padding:8px;border:1px solid #ddd;background-color:#f9f9f9;"><strong>Requester</strong></td>
          <td style="padding:8px;border:1px solid #ddd;">
            <?= name ?>
          </td>
        </tr>
        <tr>
          <td style="padding:8px;border:1px solid #ddd;background-color:#f9f9f9;"><strong>Leave Type</strong></td>
          <td style="padding:8px;border:1px solid #ddd;">
            <?= leaveType ?>
          </td>
        </tr>
        <tr>
          <td style="padding:8px;border:1px solid #ddd;background-color:#f9f9f9;"><strong>Dates Requested</strong></td>
          <td style="padding:8px;border:1px solid #ddd;">
            <?= startDate ?> to
            <?= endDate ?> (
            <?= (totalDays == 0.5 || totalDays == "0.5") ? totalDays + " days (Half-Day)" : totalDays + " days" ?>)
          </td>
        </tr>
        <tr>
          <td style="padding:8px;border:1px solid #ddd;background-color:#f9f9f9;"><strong>Reason Provided</strong></td>
          <td style="padding:8px;border:1px solid #ddd;">
            <?= reason ?>
          </td>
        </tr>
        <? if (attachmentUrl) { ?>
        <tr>
          <td style="padding:8px;border:1px solid #ddd;background-color:#f9f9f9;"><strong>Attachment</strong></td>
          <td style="padding:8px;border:1px solid #ddd;">
            <a href="<?= attachmentUrl ?>" target="_blank">View Document</a>
          </td>
        </tr>
        <? } ?>
        <tr>
          <td style="padding:8px;border:1px solid #ddd;background-color:#f9f9f9;"><strong>Current Stage</strong></td>
          <td style="padding:8px;border:1px solid #ddd;">
            <?= stage ?>
          </td>
        </tr>
      </table>
    </div>

    <div style="text-align:center; margin-top:30px;">
      <p>Please review the details and take action:</p>
      <a href="<?= approveUrl ?>"
        style="display:inline-block;padding:12px 25px;margin:5px;border-radius:5px;text-decoration:none;font-weight:bold;font-size:16px;background-color:#28a745;color:white;">Approve
        Request</a>
      <a href="<?= rejectUrl ?>"
        style="display:inline-block;padding:12px 25px;margin:5px;border-radius:5px;text-decoration:none;font-weight:bold;font-size:16px;background-color:#dc3545;color:white;">Reject
        Request</a>
      <br><br>
      <a href="<?= baseUrl ?>?page=dashboard"
        style="display:inline-block;padding:10px 20px;margin:5px;border-radius:5px;text-decoration:none;font-weight:bold;font-size:14px;background-color:#17a2b8;color:white;">
        Go to Dashboard
      </a>
      <p style="font-size:0.8em; color:#666; margin-top:10px;">
        Clicking "Reject" will directly reject the request.
      </p>
    </div>

    <? if (stage == 'GM Review') { ?>
    <div style="margin-top:20px; font-size:0.9em; color:#777; text-align:center;">
      <p><strong>Note:</strong> Decisions at the GM stage are final, please review this request carefully.</p>
    </div>
    <? } ?>
  </div>
</body>

</html>